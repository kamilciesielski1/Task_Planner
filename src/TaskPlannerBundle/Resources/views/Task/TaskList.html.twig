{% extends 'TaskPlannerBundle::taskbase.html.twig' %}

{% block body %}
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="{{ url('user_index')}}">Task Planner</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="{{ url('main')}}">Add Tasks/Categories</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Link</a></li>
      </ul>
    </div>
  </div>
</nav>
        
<h2>Task List:</h2>

<table class="table table-striped">
    <tr>
        <th>Number:</th>
        <th>Name:</th>
        <th>Description:</th>
        <th>Category:</th>
        <th>Dead Line:<span class="glyphicon glyphicon-triangle-top"></span></th>
    </tr>
{% for task in tasks %}

        <tr>
        <td>{{ loop.index }}</td>
        <td><a href="{{ url('showTask', {'id':task.id})}}">{{ task.name }}</a></td>
        <td>{{ task.description | length > 50 ? task.description | slice(0,50)~'...':task.description}}</td>
        <td>{{ task.category.name}}</td>
        <td>{{ task.deadLine.date | date('Y-m-d H:i')}}</td>
        </tr>

{% endfor %}

{% endblock %}